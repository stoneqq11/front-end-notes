
# 级联规则
在[优先级](https://github.com/stoneqq11/css-summary/blob/master/%E4%BC%98%E5%85%88%E7%BA%A7.md)里提到，CSS可以为一个元素定义多个规则，而这些规则除了包含页面开发者的定义外，还包含用户代理和用户的客制化定义

<br/>

## 规则来源
所有的样式规则都来源于下列三个来源：

1. 页面本身定义，页面作者在开发页面时候设定的样式规则
2. 用户定制化，如用户在代理上安装了插件用来改变主题
3. 用户代理，如浏览器。用户代理必须遵守指定的规范，实现基本的样式规则

<br/>

## 级联
对于多个来源的多个样式，内部通过级联处理，最终得到应用到元素上的样式规则

#### 来源优先级处理
上述三个来源规则优先级为：
1. 页面定义规则和用户定制化规则 优先级高于用户代理规则
2. 通常情况下（除了!important），页面作者定义规则优先级高于用户定制化规则
3. 在!important情况下，用户定制化规则优先级高于页面定义规则（这次遵循了相同优先级情况下，后者覆盖前者；因为用户定制化样式往往加载在页面最后）

#### 级联处理
通过上述规则来源优先级和选择器[优先级](https://github.com/stoneqq11/css-summary/blob/master/%E4%BC%98%E5%85%88%E7%BA%A7.md)的说明，得出下面的级联处理过程：

1. 首先，获得元素上所有定义的规则
2. 将规则按照来源优先级排序
3. 再按照选择器优先级排序
4. 最后，取优先级最高的样式；对应优先级相同的规则，取后者

如此，完成样式规则的级联过程。

